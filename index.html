<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Achados & Perdidos - App Inteligente</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/a2d9d5a4f1.js" crossorigin="anonymous"></script>
<style>
  body {
    margin: 0; font-family: 'Inter', sans-serif; background: #0f141a; color: #eaf2f8;
  }
  header {
    background: #1b242d; padding: 15px; text-align: center; font-weight: 700; font-size: 1.3rem;
    color: #ff7a00; box-shadow: 0 2px 10px rgba(0,0,0,0.4);
  }
  main {
    padding: 20px; max-width: 800px; margin: auto;
  }
  h2 { text-align: center; color: #ff7a00; margin-bottom: 10px; }

  /* BotÃµes principais */
  .btn {
    padding: 10px 18px; border-radius: 8px; border: none; cursor: pointer; font-weight: 600;
    transition: 0.2s; font-size: 0.95rem;
  }
  .btn:hover { opacity: 0.8; }
  .btn-add { background: #ff7a00; color: #111; margin-bottom: 15px; }
  .btn-clear { background: #444; color: #fff; margin-top: 10px; }

  /* FormulÃ¡rio */
  form {
    display: none; flex-direction: column; gap: 10px; background: #18222c; padding: 20px; border-radius: 10px; margin-bottom: 20px;
  }
  input, select, textarea {
    padding: 10px; border-radius: 6px; border: 1px solid #333; background: #111820; color: #fff; width: 100%;
  }
  label { font-weight: 600; color: #ccc; }

  /* Filtros e busca */
  .filtros {
    display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-bottom: 20px;
  }
  .filtros select, .filtros input {
    background: #111820; border: 1px solid #333; border-radius: 8px; color: #fff; padding: 8px;
  }

  /* Cards */
  .grid {
    display: grid; grid-template-columns: repeat(auto-fit,minmax(250px,1fr)); gap: 15px;
  }
  .card {
    background: #18222c; border-radius: 10px; padding: 15px; text-align: center;
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
  }
  .card img {
    width: 100%; height: 160px; object-fit: cover; border-radius: 8px;
  }
  .card h3 { margin: 10px 0 5px; }
  .tag {
    display: inline-block; padding: 5px 10px; border-radius: 8px; font-size: 0.8rem; font-weight: bold; margin: 5px;
  }
  .perdido { background: #ff4d4d; color: #fff; }
  .achado { background: #00c851; color: #fff; }

  footer {
    text-align: center; padding: 15px; font-size: 0.8rem; background: #111820; color: #aaa; margin-top: 30px;
  }

  /* Modal */
  .modal {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.8); display: none; justify-content: center; align-items: center; z-index: 1000;
  }
  .modal-content {
    background: #1b242d; padding: 20px; border-radius: 10px; max-width: 400px; width: 90%;
  }
  .modal-content img { width: 100%; border-radius: 8px; margin-bottom: 10px; }
  .modal-content h3 { color: #ff7a00; margin-top: 0; }
  .close-btn { background: #ff7a00; border: none; padding: 8px 16px; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; }
</style>
</head>
<body>

<header><i class="fas fa-search"></i> Achados & Perdidos</header>
<main>
  <button class="btn btn-add" onclick="toggleForm()">+ Adicionar Item</button>

  <form id="formItem">
    <label>Tipo:</label>
    <select id="tipo" required>
      <option value="">Selecione...</option>
      <option value="perdido">Perdido</option>
      <option value="achado">Achado</option>
    </select>
    <label>Categoria:</label>
    <select id="categoria">
      <option>Documentos</option><option>EletrÃ´nicos</option><option>Chaves</option><option>Carteiras</option><option>Outros</option>
    </select>
    <label>DescriÃ§Ã£o:</label>
    <textarea id="descricao" rows="3" placeholder="Descreva o item"></textarea>
    <label>Local:</label>
    <input id="local" type="text" placeholder="Onde foi perdido/encontrado?"/>
    <label>Data:</label>
    <input id="data" type="date"/>
    <label>Contato (WhatsApp):</label>
    <input id="contato" type="text" placeholder="(51) 99999-9999"/>
    <label>Foto:</label>
    <input id="foto" type="file" accept="image/*"/>
    <button class="btn btn-add" type="button" onclick="salvarItem()">Salvar Item</button>
  </form>

  <div class="filtros">
    <input id="busca" type="text" placeholder="Buscar..."/>
    <select id="filtroTipo">
      <option value="">Todos</option>
      <option value="perdido">Perdido</option>
      <option value="achado">Achado</option>
    </select>
    <select id="filtroCategoria">
      <option value="">Todas categorias</option>
      <option>Documentos</option><option>EletrÃ´nicos</option><option>Chaves</option><option>Carteiras</option><option>Outros</option>
    </select>
  </div>

  <div class="grid" id="listaItens"></div>
  <button class="btn btn-clear" onclick="limparTudo()">ðŸ—‘ Limpar Tudo</button>
</main>

<footer>Â© <span id="ano"></span> App Achados & Perdidos</footer>

<!-- Modal -->
<div class="modal" id="modalItem">
  <div class="modal-content" id="modalConteudo"></div>
</div>

<script>
  const form = document.getElementById('formItem');
  const lista = document.getElementById('listaItens');
  const busca = document.getElementById('busca');
  const filtroTipo = document.getElementById('filtroTipo');
  const filtroCategoria = document.getElementById('filtroCategoria');
  const modal = document.getElementById('modalItem');
  const modalConteudo = document.getElementById('modalConteudo');

  let itens = JSON.parse(localStorage.getItem('itensAchados')) || [];

  function toggleForm() {
    form.style.display = form.style.display === 'flex' ? 'none' : 'flex';
  }

  function salvarItem() {
    const reader = new FileReader();
    const arquivo = document.getElementById('foto').files[0];
    reader.onloadend = () => {
      const item = {
        id: Date.now(),
        tipo: document.getElementById('tipo').value,
        categoria: document.getElementById('categoria').value,
        descricao: document.getElementById('descricao').value,
        local: document.getElementById('local').value,
        data: document.getElementById('data').value,
        contato: document.getElementById('contato').value,
        foto: reader.result
      };
      itens.push(item);
      localStorage.setItem('itensAchados', JSON.stringify(itens));
      form.reset();
      form.style.display = 'none';
      renderizarItens();
    };
    if (arquivo) reader.readAsDataURL(arquivo);
    else reader.onloadend();
  }

  function renderizarItens() {
    lista.innerHTML = '';
    const filtroBusca = busca.value.toLowerCase();
    const tipoSel = filtroTipo.value;
    const catSel = filtroCategoria.value;
    const filtrados = itens.filter(i =>
      (!tipoSel || i.tipo === tipoSel) &&
      (!catSel || i.categoria === catSel) &&
      (i.descricao.toLowerCase().includes(filtroBusca) || i.local.toLowerCase().includes(filtroBusca))
    );
    filtrados.reverse().forEach(i => {
      const div = document.createElement('div');
      div.className = 'card';
      div.innerHTML = `
        <img src="${i.foto || 'https://via.placeholder.com/300x160?text=Sem+Imagem'}" alt="${i.descricao}">
        <h3>${i.descricao}</h3>
        <span class="tag ${i.tipo}">${i.tipo.toUpperCase()}</span>
        <p>${i.categoria}</p>
        <button class="btn btn-add" onclick="verItem(${i.id})">Ver Detalhes</button>
      `;
      lista.appendChild(div);
    });
  }

  function verItem(id) {
    const i = itens.find(x => x.id === id);
    modalConteudo.innerHTML = `
      <img src="${i.foto || 'https://via.placeholder.com/300x160?text=Sem+Imagem'}">
      <h3>${i.descricao}</h3>
      <p><b>Tipo:</b> ${i.tipo}</p>
      <p><b>Categoria:</b> ${i.categoria}</p>
      <p><b>Local:</b> ${i.local}</p>
      <p><b>Data:</b> ${i.data}</p>
      <p><b>Contato:</b> ${i.contato}</p>
      <button class="close-btn" onclick="modal.style.display='none'">Fechar</button>
    `;
    modal.style.display = 'flex';
  }

  function limparTudo() {
    if (confirm('Tem certeza que deseja apagar todos os registros?')) {
      localStorage.removeItem('itensAchados');
      itens = [];
      renderizarItens();
    }
  }

  busca.oninput = filtroTipo.onchange = filtroCategoria.onchange = renderizarItens;
  document.getElementById('ano').textContent = new Date().getFullYear();
  renderizarItens();
</script>

</body>
</html>
